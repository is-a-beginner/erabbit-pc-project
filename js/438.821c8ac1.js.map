{"version":3,"file":"js/438.821c8ac1.js","mappings":"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","sources":["webpack://erabbit-pc-project/./src/api/home.js","webpack://erabbit-pc-project/./src/views/category/components/goods-item.vue","webpack://erabbit-pc-project/./src/views/category/components/goods-item.vue?729e","webpack://erabbit-pc-project/./src/views/category/index.vue","webpack://erabbit-pc-project/./src/views/category/index.vue?2ee1"],"sourcesContent":["// 提供首页相关API函数\r\nimport request from \"@/utils/request\";\r\n/**\r\n * 获取品牌\r\n * @param {Integer} limit 品牌个数\r\n * @returns Promise\r\n */\r\n\r\nexport const findBrand = (limit = 6) => {\r\n  return request('/home/brand', 'get', { limit })\r\n}\r\n\r\n/**\r\n * 获取广告区轮播图\r\n * @returns Promise\r\n */\r\nexport const findBanner = () => {\r\n  return request('/home/banner', 'get')\r\n}\r\n\r\n/**\r\n * 获取新鲜好物数据\r\n * @returns Promise\r\n */\r\n export const findNew = () => {\r\n  return request('home/new', 'get')\r\n}\r\n\r\n/**\r\n * 获取人气推荐数据\r\n * @returns Promise\r\n */\r\n export const findHot = () => {\r\n  return request('home/hot', 'get')\r\n}\r\n\r\n/**\r\n * 获取商品区块数据\r\n * @returns Promise\r\n */\r\n export const findGoods = () => {\r\n  return request('home/goods', 'get')\r\n}\r\n\r\n/**\r\n * 获取最新专题数据\r\n * @returns Promise\r\n */\r\n export const findSpecial = () => {\r\n  return request('home/special', 'get')\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","<template>\r\n  <RouterLink :to=\"`/product/${goods.id}`\" class='goods-item'>\r\n    <img :src=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{ goods.name }}</p>\r\n    <p class=\"desc ellipsis\">{{ goods.desc }}</p>\r\n    <p class=\"price\">&yen;{{ goods.price }}</p>\r\n  </RouterLink>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type:Object,\r\n      default:() => {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-item {\r\n  display: block;\r\n  width: 220px;\r\n  padding: 20px 30px;\r\n  text-align: center;\r\n  .hoverShadow();\r\n  img {\r\n    width: 160px;\r\n    height: 160px;\r\n  }\r\n  p {\r\n    padding-top: 10px;\r\n  }\r\n  .name {\r\n    font-size: 16px;\r\n  }\r\n  .desc {\r\n    color: #999;\r\n    height: 29px;\r\n  }\r\n  .price {\r\n    color: @priceColor;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-item.vue?vue&type=template&id=bd0b9e64&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=bd0b9e64&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\sea\\\\Desktop\\\\vue3-PROJECT\\\\erabbit-pc-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bd0b9e64\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"top-category\">\r\n    <div class=\"container\">\r\n      <!-- 面包屑 -->\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <Transition name=\"fade-right\" mode=\"out-in\" >\r\n        <XtxBreadItem :key=\"topCategory.id\">{{ topCategory.name }}</XtxBreadItem>\r\n      </Transition> \r\n      </XtxBread>\r\n      <!-- 轮播图 -->\r\n      <XtxCarousel :sliders=\"sliders\" style=\"height:500px\" />\r\n      <!-- 所有二级分类 -->\r\n      <div class=\"sub-list\" >\r\n        <h3>全部分类</h3>\r\n        <ul>\r\n          <li v-for=\"sub in topCategory.children\" :key=\"i\">\r\n            <a href=\"javascript:;\">\r\n              <img :src=\"sub.picture\" >\r\n              <p>{{ sub.name }}</p>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n          <!-- 分类关联商品 -->\r\n      <div class=\"ref-goods\" v-for=\"item in subList\" :key=\"item.id\">\r\n        <div class=\"head\">\r\n          <h3>- {{ item.name }} -</h3>\r\n          <p class=\"tag\">{{ item.desc }}</p>\r\n          <XtxMore />\r\n        </div>\r\n        <div class=\"body\">\r\n          <GoodsItem v-for=\"g in item.goods\" :key=\"g.id\" :goods=\"g\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { findBanner } from '@/api/home'\r\nimport {computed, ref,watch} from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport GoodsItem from './components/goods-item.vue'\r\nimport {findTopCategory} from '@/api/category'\r\nexport default {\r\n  name: 'TopCategory',\r\n  components: {\r\n    GoodsItem\r\n  },\r\n  setup () {\r\n    // 轮播图\r\n    const sliders = ref([])\r\n    findBanner().then(data => {\r\n      sliders.value = data.result\r\n    })\r\n    // 面包屑+所有分类\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const topCategory = computed(() => {\r\n      let cate = {} \r\n      const item = store.state.category.list.find(item => {\r\n        return item.id === route.params.id\r\n      })\r\n      if (item) cate = item\r\n      return cate\r\n    })\r\n\r\n    //推荐商品数据\r\n    const subList = ref([])\r\n    const getSubList = () => {\r\n      findTopCategory(route.params.id).then(data => {\r\n        subList.value = data.result.children\r\n      })\r\n    }\r\n    // 监听路由地址，发生变化时重新发生请求\r\n    watch(() => route.params.id, (newVal) => {\r\n      // newVal && getSubList()\r\n      // if (newVal && `/category/${newVal}` === route.path) getSubList()\r\n      if (newVal && `/category/${newVal}` === route.path) getSubList()\r\n    },{immediate: true})\r\n\r\n    return { sliders,topCategory,subList  }  \r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n\r\n\r\n.top-category {\r\n  h3 {\r\n    font-size: 28px;\r\n    color: #666;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    line-height: 100px;\r\n  }\r\n  .sub-list {\r\n    margin-top: 20px;\r\n    background-color: #fff;\r\n    ul {\r\n      display: flex;\r\n      padding: 0 32px;\r\n      flex-wrap: wrap;\r\n      li {\r\n        width: 168px;\r\n        height: 160px;\r\n        a {\r\n          text-align: center;\r\n          display: block;\r\n          font-size: 16px;\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n          }\r\n          p {\r\n            line-height: 40px;\r\n          }\r\n          &:hover {\r\n            color: @xtxColor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.ref-goods {\r\n    background-color: #fff;\r\n    margin-top: 20px;\r\n    position: relative;\r\n    .head {\r\n      .xtx-more {\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n      }\r\n      .tag {\r\n        text-align: center;\r\n        color: #999;\r\n        font-size: 20px;\r\n        position: relative;\r\n        top: -20px;\r\n      }\r\n    }\r\n    .body {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      padding: 0 65px 30px;\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=ad4c6eb0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ad4c6eb0&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\sea\\\\Desktop\\\\vue3-PROJECT\\\\erabbit-pc-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ad4c6eb0\"]])\n\nexport default __exports__"],"names":["findBrand","limit","request","findBanner","findNew","findHot","findGoods","findSpecial","class","_createBlock","_component_RouterLink","to","$props","id","_createElementVNode","src","picture","alt","_toDisplayString","name","desc","price","props","goods","type","Object","default","__exports__","render","href","_createElementBlock","_createVNode","_component_XtxBread","_component_XtxBreadItem","_Transition","mode","key","$setup","_component_XtxCarousel","sliders","style","_hoisted_4","_Fragment","_renderList","children","sub","_ctx","item","_component_XtxMore","g","_component_GoodsItem","components","GoodsItem","setup","ref","then","data","value","result","store","useStore","route","useRoute","topCategory","computed","cate","state","category","list","find","params","subList","getSubList","findTopCategory","watch","newVal","path","immediate"],"sourceRoot":""}